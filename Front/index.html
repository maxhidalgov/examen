<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pescadería Mar de Catapilco </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.2.0/sweetalert2.min.css">
    <style>

        :root {
        --color-primario: #113a5d;
        --color-secundario: #8fb8e0;
        --color-acento: #E8F1F2;
        --color-header: #fafafa;

        }
        .carousel-item img {
        max-height: 350px; /* Ajusta el valor a tu preferencia */
        object-fit: cover; /* Opcional: esta propiedad recorta la imagen si excede el contenedor */
        width: 100%;       /* Para que la imagen se ajuste al ancho del slide */
        }

        .text-body-secondary{
        padding-bottom: 2rem;
        }
        .bg-image {
            background-image: url('assets/img/mar.jpeg');
            /* Cambia esto por la ruta de tu imagen */
            background-repeat: no-repeat;
            /* Evita que la imagen se repita
                   } */

            .card {
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                transition: transform 0.3s, box-shadow 0.3s;
                height: 100%;
                /* Asegura que todas las tarjetas llenen el contenedor */
            }
        }

                header {
            display: flex;
            justify-content: center; /* Centra los elementos dentro del header */
            align-items: center;     /* Centra los elementos verticalmente */
            width: 100%;
        }

        #lista-menu-principal {
            display: flex;
            justify-content: center; /* Centra los elementos del menú */
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

        .nav-item {
            margin: 0 10px; /* Ajusta el espacio entre los elementos del menú */
        }
        .card-header {
            padding: var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);
            margin-bottom: 0;
            color: var(--bs-card-cap-color);
            background-color: var(--color-secundario);
            border-bottom: var(--bs-card-border-width) solid var(--bs-card-border-color);
        }

        .card:hover {
            transform: translateY(-15px);
            box-shadow: 0 15px 25px rgba(0, 0, 0, 0.2), 0 0 20px rgba(0, 123, 255, 0.6);
        }


        .soloLogo {
            width: 240px;
            /* clip-path: inset(0px 137px 0px 0px); */
        }

        .nav-pills {
            --bs-nav-pills-link-active-bg: var(--color-primario);
        }

        .nav {

            --bs-nav-link-color: var(--color-primario);
            --bs-nav-link-hover-color:var(--color-secundario);
        }

        .btn-primary {
            --bs-btn-bg: var(--color-primario);
            --bs-btn-border-color: var(--color-primario);
            --bs-btn-hover-bg: var(--color-secundario);
            --bs-btn-hover-border-color: var(--color-secundario);
            --bs-btn-focus-shadow-rgb: 49, 132, 253;
            --bs-btn-active-bg: black;
            --bs-btn-active-border-color: black;
        }

        header {
            background-color: var(--color-header);
        }

        footer{
            background-color: var(--color-header);
        }

        .py-5 {
            padding-top: 3rem !important;
            padding-bottom: 8rem !important;
        }
        /* Estilo del botón flotante de WhatsApp */
        .whatsapp-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #25D366; /* Color de WhatsApp */
            border-radius: 50%;
            padding: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 100;
        }

        .whatsapp-button img {
            width: 50px;
            height: 50px;
            display: block;
        }
    </style>
</head>

<body>
    <div class="container">
        <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
            <img id="logoEmpresa" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none" alt="logo" width="180px"/>
            <ul id="lista-menu-principal" class="nav nav-pills">
                <li class="nav-item"><a href="#" class="nav-link active" aria-current="page">Menu 1</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Menu 2</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Menu 3</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Menu 4</a></li>
            </ul>
        </header>

        <div
        id="carouselExampleIndicators"
        class="carousel slide"
        data-bs-ride="carousel"
      >
        <!-- Indicadores (pequeños botones circulares) -->
        <div class="carousel-indicators">
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="0"
            class="active"
            aria-current="true"
            aria-label="Slide 1"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="1"
            aria-label="Slide 2"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="2"
            aria-label="Slide 3"
          ></button>
        </div>
  
        <!-- Slides del carrusel -->
        <div class="carousel-inner">
          <!-- Primer slide (activo por defecto) -->
          <div class="carousel-item active">
            <img
              src="assets/img/heron.png"
              class="d-block w-100"
              alt="Imagen 1"
            />
            <div class="carousel-caption d-none d-md-block">
              <h1 id="nombreEmpresa">Pescadería Mar de Catapilco</h1>
              <p id="descripcionEmpresa">Descripción breve del primer slide.</p>
            </div>
          </div>
  
          <!-- Segundo slide -->
          <div class="carousel-item">
            <img
              src="assets/img/mar.jpeg"
              class="d-block w-100"
              alt="Imagen 2"
            />
            <div class="carousel-caption d-none d-md-block">
              <h5>Encabezado 2</h5>
              <p>Descripción breve del segundo slide.</p>
            </div>
          </div>
  
          <!-- Tercer slide -->
          <div class="carousel-item">
            <img
              src="assets/img/pescaderia.png"
              class="d-block w-100"
              alt="Imagen 3"
            />
            <div class="carousel-caption d-none d-md-block">
              <h5>Encabezado 3</h5>
              <p>Descripción breve del tercer slide.</p>
            </div>
          </div>
        </div>
  
        <!-- Controles (flechas) -->
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Anterior</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Siguiente</span>
        </button>
      </div>

        <hr>
        <div class="container">
        <div id="Productos" class="px-4  text-center">
            <h1 id="indicadoresTitulo" class="display-5 my-3 fw-bold text-body-emphasis">{indicadoresTitulo}</h1>
            <p class="fs-5 text-body-secondary">Contamos con diversos productos según tú necesidad, productos frescos y
                de la zona </p>
            <div id="indicadoresFilaTarjetas" class="row row-cols-1 row-cols-md-3 mb-3 text-center">
                <div class="col-lg-4 col-md-6">
                    <div class="card mb-4 rounded-3 shadow-lg">
                        <div class="card-body">
                            <h5 class="card-title">Special titSSSle treatment</h5>
                            <p class="card-text">With supporting text below as a natural lead-in to additional content.
                            </p>
                            <a href="#" class="btn btn-primary">Go somewhere</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Special titSSSle treatment</h5>
                            <p class="card-text">With supporting text below as a natural lead-in to additional content.
                            </p>
                            <a href="#" class="btn btn-primary">Go somewhere</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Special titSSSle treatment</h5>
                            <p class="card-text">With supporting text below as a natural lead-in to additional content.
                            </p>
                            <a href="#" class="btn btn-primary">Go somewhere</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <a href="https://wa.me/56964625357" target="_blank" class="whatsapp-button">
            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" />
          </a>
        <div id="contacto" class="px-4 ">
            <h1 class="display-5 my-5 fw-bold text-body-emphasis text-center">Contacto</h1>
            <div class="row">
                <div class="col-md-6">
                    <div class="card mb-3">
                        <div class="card-body" id="infoContacto">

                            <h5 class="card-title">Title</h5>
                            <p class="card-text">contenido</p>

                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Formulario de Contacto</h5>
                            <div class="card-text mb-2">
                                <form action="" method="post">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control" id="floatingInput1" placeholder="">
                                        <label for="floatingInput1">Nombre y Apellido</label>
                                    </div>
                                    <div class="form-floating mb-3">
                                        <select class="form-select" id="floatingSelect1"
                                            aria-label="Floating label select example">
                                            <option selected>Seleccione una opción</option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                        <label for="floatingSelect">Seleccione tipo de producto </label>
                                    </div>
                                    <div class="form-floating mb-3">
                                        <textarea class="form-control" placeholder="Leave a comment here"
                                            id="floatingTextarea1" style="height: 100px"></textarea>
                                        <label for="floatingTextarea1">Mensaje</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="" id="flexCheck1">
                                        <label class="form-check-label" for="flexCheckChecked">
                                            Simular Correcto / incorrecto
                                        </label>
                                    </div>
                                    <button type="button" onclick="validarFormularioContacto(this)"
                                        class="btn btn-primary w-100">Enviar Mensaje</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <hr>
        <div id ="quienesSomos" class="px-4  text-center">
            <h1 id="quienesTitulo" class="display-5 my-5 fw-bold text-body-emphasis">{quienesTitulo}</h1>
            <h2 id="quienesSubTitulo" class="display-8 my-5 fw-bold text-body-emphasis">{quienesSubTitulo}</h1>
                <p id="quienesParrafo" class="my-5 text-body-emphasis">{quienesParrafo}</p>
                <div id="quienesFilaTarjetas" class="row">
                    <div class="col-lg-6 col-md-6">
                        <div class="card mb-3">
                            <div class="card-body">
                                <h5 class="card-title">titulo1</h5>
                                <p class="card-text">parrafo1.
                                </p>
                                <a href="#" class="btn btn-primary">boton1</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6">
                        <div class="card mb-3">
                            <div class="card-body">
                                <h5 class="card-title">titulo2</h5>
                                <p class="card-text">parrafo2</p>
                                <a href="#" class="btn btn-primary">boton2</a>
                            </div>
                        </div>
                    </div>
                </div>
        </div>
        <footer class="row row-cols-1 row-cols-sm-2 row-cols-md-5 py-5 my-5 border-top">
            <div id="footerCol1" class="col mb-3">
                <a href="/" class="d-flex align-items-center mb-3 link-body-emphasis text-decoration-none">
                    <img id="logoFooter" class="img-fluid" alt="logo-footer" width="180"/>
                </a>
                <p class="text-body-secondary">© 2024</p>
            </div>

            <div class="col mb-3">
                <h5>Nuestras Secciones</h5>
                <ul id="footerListaSecciones" class="nav flex-column">
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Features</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Pricing</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">FAQs</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">About</a></li>
                </ul>
            </div>

            <div class="col mb-3">
                <h5>Horario</h5>
                <p>Lunes: Cerrado</p>
                <p>Martes a Jueves: 09:00 - 14:00</p>
                <p>Domingo: 09:00 - 15:00</p><p>Viernes y Sábado: 09:00 - 18:00</p>
                
            </div>

            <div class="col mb-3">
                <h5>Contacto</h5>
                <ul id="footerListaContacto" class="nav flex-column">
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Home</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Features</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Pricing</a></li>
                </ul>
            </div>

            <div class="col mb-3">
                <h5>Redes Sociales</h5>
                <ul id="footerListaRRSS" class="nav flex-column">
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Home</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Features</a></li>
                </ul>
            </div>
            
        </footer>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.2.0/sweetalert2.all.min.js"></script>

    <script>

        // $(document).on('click', '#success', function (e) {
        //     swal(
        //         'Success',
        //         'You clicked the <b style="color:green;">Success</b> button!',
        //         'success'
        //     )
        // });

        //Evaluacion 2
        // const valoresHero = {
        //     'titulo': 'Su socio para soluciones digitales',
        //     'parrafo': 'Proporcionamos el diseño de TI más responsivo y funcional para empresas y negocios de todo el mundo.',
        //     'boton': {
        //         'link': '#contacto',
        //         'texto': 'Contáctanos'
        //     }
        // };

 
        //DOM: Document Object Model
       

        // getConAPI('endpoint', 'metodo','authorization', 'seccion');
        getConAPI('http://localhost/Eval3/Back/api/v1/productos-servicios/', 'GET', 'ipss', 'productos');
        getConAPI('http://localhost/Eval3/Back/api/v1/contacto-rrss/', 'GET', 'ipss', 'contacto');
        getConAPI('http://localhost/Eval3/Back/api/v1/quienes-somos/', 'GET', 'ipss', 'quienesSomos');
        getConAPI('http://localhost/Eval3/Back/api/v1/informacion-basica/', 'GET', 'ipss', 'informacionBasica');
        getConAPI('http://localhost/Eval3/Back/api/v1/estilo-visual/', 'GET', 'ipss', 'estiloVisual');
        //getQuienesSomos('http://localhost/Eval3/Back/api/v1/quienes-somos/', 'GET', 'ipss', 'quienesSomos');

 
       

        function validarFormularioContacto(_btn) {

            let contadorErrores = 0;

            const formContactNombre = document.getElementById('floatingInput1');
            if ((formContactNombre.value).length == 0) {
                contadorErrores++;
                formContactNombre.classList.add('is-invalid');
            } else {
                formContactNombre.classList.remove('is-invalid');
                formContactNombre.classList.add('is-valid');
            }

            const formContactServicio = document.getElementById('floatingSelect1');
            if (formContactServicio.value == -1) {
                contadorErrores++;
                formContactServicio.classList.add('is-invalid');
            } else {
                formContactServicio.classList.remove('is-invalid');
                formContactServicio.classList.add('is-valid');
            }

            const formContactMensaje = document.getElementById('floatingTextarea1');
            if ((formContactMensaje.value).length == 0) {
                contadorErrores++;
                formContactMensaje.classList.add('is-invalid');
            } else {
                formContactMensaje.classList.remove('is-invalid');
                formContactMensaje.classList.add('is-valid');
            }

            const formContactTestCheck = document.getElementById('flexCheck1');

            //formContactTestCheck.checked // para saber si es true o false.

            if (contadorErrores == 0) {
                //con el boton que llama a la funcion
                _btn.classList.add('disabled');
                _btn.innerText = 'Validando...';
                if (formContactTestCheck.checked == true) {
                    // alert('Mensaje enviado :)');
                    swal(
                        '¡Excelente!',
                        'Su mensaje ha sido <b style="color:green;">enviado</b>!',
                        'success'
                    );

                    _btn.classList.remove('disabled');
                    _btn.innerText = 'Enviar Mensaje';
                    //dejamos todo por defecto
                    formContactNombre.value = '';
                    formContactNombre.classList.remove('is-valid');
                    formContactServicio.selectedIndex = 0;
                    formContactServicio.classList.remove('is-valid');
                    formContactMensaje.value = '';
                    formContactMensaje.classList.remove('is-valid');
                    formContactTestCheck.checked = false;
                } else {
                    // alert('El mensaje no pudo ser enviado :(');
                    _btn.classList.remove('disabled');
                    _btn.innerText = 'Volver a enviar el mensaje';
                    swal(
                        '¡Error!',
                        'Su mensaje <b style="color: red">no</b>ha sido enviado!<br><br><b>Puede volver a intentarlo</b>',
                        'error'
                    );
                }
            }
        }

        function getConAPI(_endpoint, _metodo, _authorization, _section) {
            const tituloSection = document.getElementById('indicadoresTitulo');
            switch (_section) {
                case 'productos':
                    indicadoresTitulo.innerText = 'Productos';
                    $.ajax({
                        url: _endpoint,
                        type: "GET", // Cambia a POST, PUT o DELETE si es necesario
                        headers: {
                            "Authorization": `Bearer ${_authorization}`
                        },
                        success: function (data) {
                            
                            // Mostrar datos en el elemento <pre>
                            // $("#output").text(JSON.stringify(data, null, 2));
                            const indicadoresFilaTarjetas = document.getElementById('indicadoresFilaTarjetas');
                            // let cantidadColumnas = 12;
                            // if (data.data.length <= 6) {
                            //     cantidadColumnas = 12 / data.data.length;
                            // }
                            // console.log(data);
                            indicadoresFilaTarjetas.innerHTML = '';
                            data.data.forEach(d => {
                                if (d.activo) {

                                    indicadoresFilaTarjetas.innerHTML += `
                                    <div class="col-lg-3 col-md-6 mb-4">
                                        <div class="card mb-4 rounded-3 shadow-lg">
                                        <h5 class="card-header">${d.nombre}</h5>
                                        <div class="card-body">
                                            <p class="card-text">Categoria: ${d.categoria_nombre}</p>
                                            <p class="card-text">Descripcion: ${d.descripcion}</p>
                                        </div>
                                        </div>
                                    </div> 
                                    `;
                                }
                            });
                        },
                        error: function (xhr, status, error) {
                            // Manejo de errores
                            $("#output").text(`Error: ${xhr.status} ${xhr.statusText}`);
                        }
                    });
                    break;
                case 'contacto':
                    $.ajax({
                        url: _endpoint,
                        type: "GET", // Cambia a POST, PUT o DELETE si es necesario
                        headers: {
                            "Authorization": `Bearer ${_authorization}`
                        },
                        success: function (data) {
                            const infoContacto = document.getElementById('infoContacto');
                            const footerListaContacto =document.getElementById('footerListaContacto');
                            const footerListaRRSS = document.getElementById('footerListaRRSS');
                            infoContacto.innerHTML = '';
                            footerListaRRSS.innerHTML = '';
                            data.data.forEach(i => {
                                if (i.activo) {

                                    infoContacto.innerHTML += `
                            <h5 class="card-title">Dirección:</h5>
                            <p class="card-text">${i.direccion}</p>
                           <h5 class="card-title">Teléfono:</h5>
                            <p class="card-text">${i.fono}</p>
                            <h5 class="card-title">Email:</h5>
                            <p class="card-text">${i.email}</p>
                                        <div class="col mb-5">
                            <h5>Ubicación</h5>
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3362.5347138106586!2d-71.27979562439171!3d-32.5652609527279!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9689b219b6f532df%3A0x851e6885675b23bd!2sJos%C3%A9%20Mar%C3%ADa%20Mercado%20464%2C%202060000%20Zapallar%2C%20Valpara%C3%ADso!5e0!3m2!1ses-419!2scl!4v1734912295417!5m2!1ses-419!2scl" width="100%" height="200" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                            </div>

                                    `;
                                }
                                
                            });
                            footerListaContacto.innerHTML = '';
                            
                            data.data.forEach(c => {
                                if (c.activo) {

                                    footerListaContacto.innerHTML += `
                            <p class="card-text">${c.direccion}</p>
                           
                            <p class="card-text">${c.fono}</p>
                            
                            <p class="card-text">${c.email}</p>
                            `;
                            footerListaRRSS.innerHTML += `
                            <p class="card-text">
                                <a href="${c.red_social}" target="_blank" rel="noopener noreferrer">
                                Instagram
                                </a>
                            </p>
                            `;
                                }
                                
                            });
                        },
                        error: function (xhr, status, error) {
                            // Manejo de errores
                            $("#output").text(`Error: ${xhr.status} ${xhr.statusText}`);
                        }
                    });
                    break;
                case 'quienesSomos':
                         $.ajax({
                        url: _endpoint,
                        type: "GET", // Cambia a POST, PUT o DELETE si es necesario
                        headers: {
                            "Authorization": `Bearer ${_authorization}`
                        },
                        success: function (data) {
                           // console.log(data);
                            //console.log('Datos recibidos:', data); // Verificar los datos de la API
                            quienesTitulo.innerHTML = '';
                            quienesSubTitulo.innerHTML = '';
                            quienesParrafo.innerHTML = '';
                            quienesTitulo.innerHTML = '';

                         // Asegúrate de que los datos existan antes de intentar renderizarlos
                         const titulo = data.data.titulo || 'Título no disponible';
                         const descripcion = data.data.descripcion || 'Descripción no disponible';
                         const mision = data.data.mision || 'Misión no disponible';
                         const vision = data.data.vision || 'Visión no disponible';

                         // Reemplazar los valores dinámicamente en el contenedor
                         document.getElementById('quienesTitulo').innerText = titulo;
                         document.getElementById('quienesSubTitulo').innerText = '';
                         document.getElementById('quienesParrafo').innerText = descripcion;
                       
                        //    console.log(data.data)
                        //    console.log(data)

                        // Actualizar las tarjetas de Misión y Visión
                         const filaTarjetas = document.getElementById('quienesFilaTarjetas');
                         filaTarjetas.innerHTML = `
  
                             <div class="col-lg-6 col-md-6">
                                 <div class="card mb-3 rounded-3 shadow-lg">
                                     
                                         <h5 class="card-header text-center">Misión</h5>
                                         <div class="card-body">
                                         <p class="card-text">${mision}</p>
                                     
                                 </div>
                                 </div>
                             </div>
                             <div class="col-lg-6 col-md-6">
                                 <div class="card mb-3 rounded-3 shadow-lg">
                                     
                                         <h5 class="card-header text-center">Visión</h5>
                                         <div class="card-body">
                                         <p class="card-text">${vision}</p>
                                     
                                 </div>
                                 </div>
                             </div>
                         `;

                        },
                        error: function (xhr, status, error) {
                            // Manejo de errores
                            $("#output").text(`Error: ${xhr.status} ${xhr.statusText}`);
                        }
                    });
                    break;
                    case 'informacionBasica':
                            $.ajax({
                                url: _endpoint,
                                type: "GET",
                                headers: {
                                    "Authorization": `Bearer ${_authorization}`
                                },
                                success: function(data) {
                                    // Para ver qué datos llegan
                                   // console.log("Datos de información básica:", data);
                                    
                                    // Revisa que 'data.data' exista y tenga al menos un elemento
                                    if (data && data.data && data.data.length > 0) {
                                        // Obtenemos el primer elemento
                                        const info = data.data[0];
                                        
                                        // 1. Asigna la URL del logo al <img id="logoEmpresa">
                                        if (info.logo_url) {
                                            document.getElementById('logoEmpresa').src = info.logo_url;
                                            document.getElementById('logoFooter').src = info.logo_url;
                                        }

                                        // 2. Si tienes un <h1 id="nombreEmpresa"> o similar, asigna el nombre
                                        if (info.nombre_empresa) {
                                            document.getElementById('nombreEmpresa').innerText = info.nombre_empresa;
                                        }

                                        // 3. Igual con la descripción, si tienes un <p id="descripcionEmpresa">
                                        if (info.descripcion) {
                                            document.getElementById('descripcionEmpresa').innerText = info.descripcion;
                                        }

                                        // 4. Palabras clave (puedes mostrarlas o asignarlas a meta[name="keywords"]).
                                        if (info.palabras_clave) {
                                            // Ejemplo: en consola o en un <p id="keywordsEmpresa">
                                         //   console.log("Palabras clave:", info.palabras_clave);
                                        }

                                        // 5. Menú principal, si viene como JSON en un string y necesitas parsearlo
                                        if (info.menu_principal) {
                                            // Parsear si viene como string
                                            let menu = {};
                                            try {
                                                menu = JSON.parse(info.menu_principal);
                                            } catch (e) {
                                                console.error("Error al parsear menu_principal:", e);
                                            }
                                            
                                            // Ejemplo de crear links en <ul id="lista-menu-principal">
                                            const listaMenu = document.getElementById('lista-menu-principal');
                                            const footerListaSecciones = document.getElementById('footerListaSecciones');
                                            listaMenu.innerHTML = '';
                                            footerListaSecciones.innerHTML = '';
                                            
                                            // El objeto "menu" podría tener pares clave/valor como:
                                            // { "inicio": "Inicio", "productos": "Productos" }
                                            // Iteramos para crear <li> con <a>
                                            let contadorMPitems = 0;
                                            
                                            Object.entries(menu).forEach(([enlace, texto], index) => {
                                                let activeClass = index === 0 ? 'nav-link active aria-current="page"' : 'nav-link';

                                                listaMenu.innerHTML += `
                                                    <li class="nav-item">
                                                        <a href="/${enlace}" class="${activeClass}">${texto}</a>
                                                    </li>
                                                `;
                                            });
                                            
                                            Object.entries(menu).forEach(([enlace, texto]) => {
                                            footerListaSecciones.innerHTML += `
                                                <li class="nav-item mb-2">
                                                    <a href="/${enlace}" class="nav-link p-0 text-body-secondary">
                                                        ${texto}
                                                    </a>
                                                </li>
                                            `;
                                        });

                                        }
                                    }
                                },
                                error: function(xhr, status, error) {
                                    console.error("Error:", xhr.status, xhr.statusText);
                                }
                            });
                            break;

                            case 'estiloVisual':
  $.ajax({
    url: _endpoint,
    type: "GET",
    headers: {
      "Authorization": `Bearer ${_authorization}`
    },
    success: function (data) {
      // Verifica que data.data exista y sea un array
      if (data && data.data && data.data.length > 0) {
        // Recorremos cada registro
        for (let i = 0; i < data.data.length; i++) {
          const estilo = data.data[i];
          
          // Si está activo, aplicamos su estilo y salimos del bucle
          if (estilo.activo) {
            console.log("Datos de estilo visual (activo):", estilo);

            // estilo.nombre es un string JSON, así que lo parseamos
            let parsedNombre = {};
            try {
              parsedNombre = JSON.parse(estilo.nombre);
              // Ejemplo de contenido: { "primario": "#113a5d", "secundario": "#8fb8e0", "acento": "#E8F1F2" }
            } catch (e) {
              console.error("Error al parsear estilo.nombre:", e);
            }

            // Aplicar paleta de colores como variables CSS
            if (parsedNombre.primario) {
              document.documentElement.style.setProperty('--color-primario', parsedNombre.primario);
            }
            if (parsedNombre.secundario) {
              document.documentElement.style.setProperty('--color-secundario', parsedNombre.secundario);
            }
            if (parsedNombre.acento) {
              document.documentElement.style.setProperty('--color-acento', parsedNombre.acento);
            }

            // Si quieres usar estilo.descripcion o estilo.color, hazlo aquí.

            // IMPORTANTE: salimos del for, ignorando los demás activos
            break;
          }
        }
      }
    },
    error: function (xhr, status, error) {
      $("#output").text(`Error: ${xhr.status} ${xhr.statusText}`);
    }
  });
  break;
                    default:
                    break;
            }
        }


        function validarFormularioIndicador(_btn) {
            let errores = 0;
            // console.log('validando el formulario de nuevo indicador');
            const codigo = document.getElementById('fi1');
            const nombre = document.getElementById('fi2');
            const unidadMedida = document.getElementById('fs1');
            const valor = document.getElementById('fi3');

            if (codigo.value.length == 0) {
                errores++;
                codigo.classList.add('is-invalid');
            } else {
                codigo.classList.remove('is-invalid');
                codigo.classList.add('is-valid');
            }

            if (nombre.value.length == 0) {
                errores++;
                nombre.classList.add('is-invalid');
            } else {
                nombre.classList.remove('is-invalid');
                nombre.classList.add('is-valid');
            }

            if (valor.value.length == 0) {
                errores++;
                valor.classList.add('is-invalid');
            } else {
                valor.classList.remove('is-invalid');
                valor.classList.add('is-valid');
            }

            if (unidadMedida.value == -1) {
                errores++;
                unidadMedida.classList.add('is-invalid');
            } else {
                unidadMedida.classList.remove('is-invalid');
                unidadMedida.classList.add('is-valid');
            }

            if (errores == 0) {
                _btn.classList.add('disabled');
                _btn.innerText = 'Ingresando valores...';

                //preparar los datos para el POST
                const postData = {
                    codigo: codigo.value,
                    nombre: nombre.value,
                    unidad_medida_id: unidadMedida.value,
                    valor: valor.value
                };

                //llamamos a la funcion que le pega al endpoint
                // postConAPI('endpoint', 'metodo', 'authorization', data, 'seccion');
                postConAPI('http://localhost/EV3/Back/api/v1/productos-servicios/', 'POST', 'ipss2024T3s70', postData, 'productos');
            }

        }

    </script>
</body>

</html>